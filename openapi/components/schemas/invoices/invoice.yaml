type: object
description: |
  Request to create an invoice, which is a list of goods or services with a statement of the sum due provided
  by the merchant, that a buyer intends to purchase
required:
  - amount
properties:
  isEmailDelivery:
    type: boolean
    description: indicates if invoice will be email delivered, deaults to false
    default: false
  emailDelivery:
    type: object
    properties:
      to:
        type: string
        description: to email address. the value can take multiple addresses separated by semicolons
      cc:
        type: string
        description: field to add multiple recepients separated by semicolons
      bcc:
        type: string
        description: bcc field similar to "cc" field except that other recipients won't be able to see that someone else has been sent a copy of the email.
  description:
    type: string
    description: the purchase description, can be provided instead of a list of items
  amount:
    type: object
    description: |
      represent the value of the item in the original currency, typically fiat currency such as USD or EUR.
      Values will be used to calculate the amount the buyer should
      pay in his or her selected currency of payment.
    properties:
      breakdown:
        type: object
        properties:
          subtotal:
            $ref: ../../globalTypes/globalAmount.yaml
          shipping:
            $ref: ../../globalTypes/globalAmount.yaml
          handling:
            $ref: ../../globalTypes/globalAmount.yaml
          taxTotal:
            $ref: ../../globalTypes/globalAmount.yaml
          discount:
            $ref: ../../globalTypes/globalAmount.yaml
      currencyId:
        type: string
        description: original currency Id of the item
      contractAddress:
        type: string
        description: 'the address of the contract if this money object represents an ERC20 or similar token value'
      displayValue:
        type: string
        description: 'The value formatted for display (e.g 0.1234 BTC)'
      value:
        type: string
        description: |
          This parameter represents the monetary value as an integer in the base (smallest) unit of the currency. For instance, Bitcoin can be divided into 8 decimal places,
          with each division known as a Satoshi. Therefore, 1 BTC would have a value of 100,000,000 Satoshis, and 0.00031 BTC would have a value of 31,000 Satoshis. Similarly,
          an amount of $9.99 USD would be represented as 999 cents. In the case of zero-decimal currencies like the Yen, a value of Â¥500 would be represented as 500.
          If no value is provided, the default is 0.
      valueAsDecimal:
        type: string
        description: |
          The decimalValue represents the monetary value with decimal precision derived from the value field,
          which is the integer representation in the smallest unit of the currency or token.
  clientId:
    type: string
    description: the id of the client creating this invoice
  invoiceDate:
    type: string
    description:
      custom invoice date if not the created date of the invoice,
      invoices with a future date will be scheduled
    example: '2022-11-28T13:59:46+00:00'
  dueDate:
    type: string
    example: '2023-04-26T18:40:41.322Z'
    description: due date to be shown on the invoice
  invoiceId:
    type: string
    description: invoice number. Appears in screens shown to the Buyer and emails sent.
  buyer:
    $ref: ./buyer.yaml
  shipping:
    $ref: ../../globalTypes/shipping.yaml
  items:
    type: array
    items:
      $ref: ./items.yaml
  requireBuyerNameAndEmail:
    type: boolean
    description: flag indicating whether a buyer name and email are required, they will be requested at checkout if not provider by the caller.

  buyerDataCollectionMessage:
    type: string
    description: the message to display when collecting buyer user data
  notes:
    type: string
    description: notes for the merchant only, these are not visible to the buyers
  notesToRecipient:
    type: string
    description: any additional information to share with the buyer about the transaction
  termsAndConditions:
    type: string
    description: any terms and conditions, e.g. a cancellation policy
  merchantOptions:
    $ref: ./merchantOptions.yaml
  customOptions:
    type: object
    description: any custom data the caller wishes to attach to the invoice which will be sent back in notifications
    properties:
      additionalProp1:
        type: string
      additionalProp2:
        type: string
      additionalProp3:
        type: string
  metadata:
    type: object
    properties:
      integration:
        type: string
        description: '?'
        format: 'InvoiceBuilder'
      hostname:
        type: string
        description: '?'
  poNumber:
    type: string
    format: InvoiceBuilder
  webhook:
    $ref: ../webhooks/webhookSchema.yaml
  draft:
    type: boolean
    description: flag indicating whether this is a draft invoice
    default: false
  payoutConfig:
    type: object
    description: Represents info specifying payout configuration for invoice
    properties:
      currencyId:
        type: string
        description: the currency id of the wallet or address into which to payout to
      contractAddress:
        type: string
        description: 'the address of the contract if this money object represents an ERC20 or similar token value'
      address:
        type: string
        description: the external address into which to pay out
      frequency:
        type: array
        example: [
          'normal',
          'asSoonAsPossible',
          'hourly',
          'nightly',
          'weekly'
        ]