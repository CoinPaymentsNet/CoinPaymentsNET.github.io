type: object
properties:
  invoiceDate:
    type: string
    description:
      optional custom invoice date if not the created date of the invoice,
      invoices with a future date will be scheduled
    example: '2022-11-28T13:59:46+00:00'
    #nullable: true
  dueDate:
    type: string
    example: '2023-04-26T18:40:41.322Z'
    description: optional due date to be shown on the invoice
    #nullable: true
  clientId:
    type: string
    description: the id of the client creating this invoice (optional)
    #nullable: true
  invoiceId:
    type: string
    description: optional invoice number. Appears in screens shown to the Buyer and emails sent.
    #nullable: true
  buyer:
    $ref: ./buyer.yaml
  shipping:
    $ref: ../../globalTypes/shipping.yaml
  isEmailDelivery:
    type: boolean
    description: indicates if invoice will be email delivered
    default: false
  emailDelivery:
    type: object
    properties:
      to:
        type: string
        description: the email to field, multiple addresses separated by semicolons
        #nullable: true
      cc:
        type: string
        description: the email to field, multiple addresses separated by semicolons
        #nullable: true
      bcc:
        type: string
        description: the email to field, multiple addresses separated by semicolons
        ##nullable: true
  description:
    type: string
    description: the purchase description, can be provided instead of a list of items
  items:
    type: array
    items:
      $ref: ./items.yaml
  amount:
    type: object
    properties:
      breakdown:
        type: object
        properties:
          subtotal:
            $ref: ../../globalTypes/globalAmount.yaml
          shipping:
            $ref: ../../globalTypes/globalAmount.yaml
          handling:
            $ref: ../../globalTypes/globalAmount.yaml
          taxTotal:
            $ref: ../../globalTypes/globalAmount.yaml
          discount:
            $ref: ../../globalTypes/globalAmount.yaml
      currencyId:
        type: string
        description: original currency od of the item
        #nullable: true
      contractAddress:
        type: string
        description: '?'
        #nullable: true
      displayValue:
        type: string
        description: '?'
        #nullable: true
      value:
        type: string
        description: '?'
        #nullable: true
      valueAsDecimal:
        type: string
        description: '?'
        #nullable: true
  requireBuyerNameAndEmail:
    type: boolean
    description: flag indicating whether a buyer name and email are required, they will be requested at checkout if not provider by the caller.
    #nullable: true
  buyerDataCollectionMessage:
    type: string
    description: the message to display when collecting buyer user data
    #nullable: true
  notes:
    type: string
    description: notes for the merchant only, these are not visible to the buyers
    #nullable: true
  notesToRecipient:
    type: string
    description: any additional information to share with the buyer about the transaction
    #nullable: true
  termsAndConditions:
    type: string
    description: any terms and conditions, e.g. a cancellation policy
    #nullable: true
  merchantOptions:
    $ref: ./merchantOptions.yaml
  customOptions:
    type: object
    description: any custom data the caller wishes to attach to the invoice which will be sent back in notifications
    #nullable: true
    properties:
      additionalProp1:
        type: string
        #nullable: true
      additionalProp2:
        type: string
        #nullable: true
      additionalProp3:
        type: string
        #nullable: true
  metadata:
    type: object
    properties:
      integration:
        type: string
        description: '?'
        format: 'InvoiceBuilder'
      hostname:
        type: string
        description: '?'
        #nullable: true
  poNumber:
    type: string
    format: InvoiceBuilder
  webhook:
    $ref: ../clients/webhook.yaml
  draft:
    type: boolean
    description: flag indicating whether this is a draft invoice
    default: false
  payoutConfig:
    type: object
    description: Represents optional info specifying payout configuration for invoice
    properties:
      currencyId:
        type: string
        description: the currency id of the wallet or address into which to payout to
      contractAddress:
        type: string
        description: Optional address of the smart contract if the currency supports it and it should be used
      address:
        type: string
        description: the external address into which to pay out
      frequency:
        type: array
        example: [
          'normal',
          'asSoonAsPossible',
          'hourly',
          'nightly',
          'weekly'
        ]