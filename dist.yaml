openapi: 3.1.0
info:
  version: 2.0.0
  title: CoinPayments API Documentation
  x-logo:
    url: ./logo.png
  description: >
    Welcome to CoinPayments API documentation!


    ![markdown file changed](./charlie.png)


    CoinPayments API is a RESTful JSON API for interacting with blockchains,

    accessed over HTTPS from the domain **https://coinpayments/api/v1**


    # Overview

    Coinpayments API docs defines a standard, language-agnostic interface to
    CoinPayments API

    The platform allows merchants to integrate the payment system into their own
    websites or applications,

    allowing their customers to pay for goods or services with cryptocurrency.

    The API documentation provides the necessary information for developers to
    integrate the payment system into their own platforms,

    including details on how to authenticate requests, what parameters to
    include in requests and responses, and how to handle errors.

    Overall, the API is designed to provide a simple and secure way for
    merchants to accept cryptocurrency payments from their customers.

    In these docs you'll find everything you need to leverage CoinPayments for
    your applications.



    # Features

    CoinPayments provides a multi-currency wallet that enables businesses and
    individuals to store, send,

    and receive a wide range of digital currencies and tokens.

    The free-to-set-up wallet is available on web and mobile, enabling account
    management online and on the go.


    #### Some of the key features of the website include:

    1. Support for multiple popular cryptocurrencies, allowing customers to pay
    with the digital currency of their choice.

    2. Generate invoices and manually share them with buyers through a link or
    via email.

    3. Callback Addresses feature allows merchant to receive payment without
    specifying the amount or time in advance.

    4. Real-time updates using Webhooks, The API provides updates on the status
    of transactions, allowing merchants and customers to track the progress of
    their payments.

    5. Advanced security measures to ensure that all transactions are safe and
    secure.



    # Common API Errors

    This section provides an overview of the common errors that you may
    encounter when utilizing CoinPayment API. By familiarizing yourself with
    these errors, you will be better equipped to handle potential issues and
    troubleshoot effectively. Understanding these errors will contribute to a
    smoother integration process and ensure a more seamless payment experience
    for your users.


    ### Unauthorized

    This error occurs when an invalid `clientId` or `clientSecret` is used to
    generate API signature to authenticate requests. It may also occur if a
    `clientId` is valid but the integration is either deleted or the user's
    account does not exist. or an invalid or incorrect client secret is
    provided. In such cases, the API returns an "Unauthorized" error.


    ### Insufficient Funds

    This error can occur in different scenarios, such as during withdrawal to an
    external address or when converting a coin to another, whether to an
    internal or external address. It arises when the user's wallet does not have
    enough balance to cover the requested transaction amount.


    ### Invalid Address

    When sending a request to create a withdrawal or a conversion, if the
    provided address is not valid or formatted incorrectly, this error is
    triggered. Users should double-check the address they provided and ensure it
    follows the required format. here are examples of Valid addresses



    #### Valid UTXO-Based Coin Addresses:

    - Bitcoin (BTC): `1BvBMSEYstWetqTFn5Au4m4GFg7xJaNVN2`

    - Bitcoin Cash (BCH):
    `bitcoincash:qr7uq7uvujmzhcv29tw92q0hs7fwpht4fvl4a4kj9a`

    - Litecoin (LTC): `LZx9pzGfH6mKSzVsJZnryeVrRzt6X8uZ9r`


    #### Valid Token Coin Addresses:

    - Ethereum (ETH): `0x7E5F4552091A69125d5DfCb7b8C2659029395Bdf`

    - ERC-20 Tokens (e.g., DAI, USDT):
    `0x6B175474E89094C44Da98b954EedeAC495271d0F`



    ### Invalid or Unsupported Currency:

    This error occurs when the requested invoice, withdrawal, conversion
    involves an invalid or unsupported currency. It could be due to the currency
    not being listed or supported on the platform. Users can utilize the
    currencies API included in the documentation to list all supported
    currencies and verify if their intended currency is supported before
    initiating the transaction.


    ### Bad request (Input validation errors):

    This error occurs when there are issues with the validation of fields in the
    request's payload. For example, if a required field is not sent, or if the
    fields have invalid values or incorrect types. The API response for a
    validation error includes a description of the error and may provide details
    about the missing fields or the specific issues with the payload.


    ###
  license:
    name: CoinPayments 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
tags:
  - name: Authentication
    description: >+
      CoinPayments API uses SHA-256 which is a way of authenticating an API
      request to ensure that it comes from a trusted source.

      In this scheme, the API server generates a unique signature for each
      request using the SHA-256 hashing algorithm.



      #### Prerequisites

      To Integrate Coin Payments API you need to obtain CLIENT ID and CLIENT
      SECRET.

      If you haven't yet created your credentials, you may skip to next section.



      ## Create credentials

      First, you need to [create an
      account](https://identity.coinpaymints.com/Identity/Account/SignUp?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dcoinpayments-aphrodite%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520orion%26redirect_uri%3Dhttps%253A%252F%252Fdashboard.coinpaymints.com%252Fcallback%26nonce%3D1d30da16-4ff7-4c2c-2006-33bebbb54bd8%26signup%3D1)

      ##### Once you're logged into your account, Go to Dashboard Business tools
      ðŸ‘‡


      ![markdown file changed](./integrations-1.png)



      ##### Integrations ðŸ—

      ![markdown file changed](./integration-2.png)



      ##### Add integration âž•

      ![markdown file changed](./integration-3.png)



      ##### give a name and a URL to your integration - more on the URL later.
      ðŸ“›

      ![markdown file changed](./integration-4.png)




      **Warning**

      It is strongly recommended that you save your credentials after they are
      shown to you.

      Your credentials will only be displayed once, and if you lose them, you
      will not be able to access the API.

      Please take the time to save your credentials in a secure location so that
      you can use them in the future.


      ---


      ## Generate API Signature

      In order to properly sign an authenticated request for the CoinPayments v2
      API, the following headers must be included:


      * `X-CoinPayments-Client`

      * `X-CoinPayments-Timestamp`

      * `X-CoinPayments-Signature`


      The following sections are instructions for properly populating these
      headers.


      ---


      ### X-CoinPayments-Client

      Populate this header with your **CLIENT ID**


      Example Value

      `cc7caaa431d54ad6accfd28b20170ee4`



      ---

      ### X-CoinPayments-Timestamp

      Before we Populate this header with the current time as a UNIX timestamp,
      exclude the milliseconds epoch, example:


      ```javascript

      const date = new Date().toISOString().split(".")[0];

      ```


      Example value:

      `2022-12-19T19:27:04`

      ---

      ### Construct the request queryString

      To create an API signature takes a query string you first need to
      construct the query string which is made of the

      following attributes concatenated together

      * method

      * url

      * clientId

      * date


      Example ( Javascript )

      ```javascript

      const queryString =
      `\ufeff${method}${url}${clientId}${JSON.stringify(requestPayload)}`;

      ```


      For requests with no request body, replace last attribute by an empty
      string:

      Example ( Javascript )

      ```javascript

      const queryString = `\ufeff${method}${url}${clientId}${''}`;

      ```


      ---

      ### X-CoinPayments-Signature

      Next step is to use the your `clientSecret` to generate the signature
      using SHA-256 encryption Algorithm as follows:


      ```javascript

      const hash = CryptoJS.HmacSHA256(queryString,
      CryptoJS.enc.Utf8.parse(clientSecret));

      const signature = CryptoJS.enc.Base64.stringify(hash);

      ```

      example value:

      `oW7d1ktvK7R6741oACgVR3bysGTPY8tqren0WTmmEk0=`


      ---

      Here is a complete example of how to generate an API signature for making
      a call to the create wallet API:

      ```javascript

      const clientId = 'd0ccc52b8204460783d375e278082de2';

      const clientSecret = 'WYEB+hN+89waO76QeO9T7IIqhdo/60GHrdYu2vEa7Tg=';

      const url = `https://api.coinpaymints.com/api/v1/merchant/wallets`;

      const method = 'POST';

      const date = new Date().toISOString().split('.')[0];


      const createWalletDto = {
        currencyId: 2,
        label: 'Online Shop Wallet',
        webhookUrl: 'ttps://mysite.com/api/v1/payment/notification',
      };


      const queryString =
      `\ufeff${method}${url}${clientId}${date}${JSON.stringify(createWalletDto)}`;



      const hash = CryptoJS.HmacSHA256(queryString,
      CryptoJS.enc.Utf8.parse(clientSecret));

      const signature = CryptoJS.enc.Base64.stringify(hash);


      const headers = {
        'X-CoinPayments-Client': clientId,
        'X-CoinPayments-Timestamp': date,
        'X-CoinPayments-Signature': signature,
      };



      /** Make API call using axios ( you may choose any http client ) */

      const axiosoptions = {
        url,
        headers,
        method,
        data: createWalletDto,
      };


      const response = await this.httpsService.request(options).toPromise();

      console.log(response);

      ```


      ---














  - name: Invoices API
    description: ./paths/invoices/invoice-description
  - name: Wallets API
    description: >+
      The Wallets API enables merchants to create and manage their wallets and
      wallet addresses. This is made possible through a set of endpoints that
      enable merchants to create new wallets with the coins supported by the
      platform, as well as initiate withdrawal requests from their wallets to
      any external or internal address of their choosing. With this powerful
      functionality, merchants have full control and flexibility in managing
      their cryptocurrency wallets to cater to their specific business needs.



      **Important Note**:


      If WebhookUrl field of the body is specified then the following requests
      will be sent to the provided URL (Maximum 5 attempts with 5 seconds
      timeout for a single request and 1 second delay between retries) All keys
      and values of the webhook payloads are strings. Samples of data being
      sent:


      1- When wallet is activated:

      ```javascript

      {
        "eventType" : "walletActivated",
        "walletId" : "58f78b24-1de0-42b3-9a48-94f3e9c57752",
        "walletAddress" : "0x063c9743195f53c85c8ebbdaa5916da3502b24ac"
      }

      ```




      2- When funds are received (amount is in currency's smallest units):

      ```javascript

      {
        "eventType" : "transferReceived",
        "walletId" : "58f78b24-1de0-42b3-9a48-94f3e9c57752",
        "currencyId" : "4",
        "transactionId" : "f8ea1354-b3c9-470f-af09-c2ba96f2e391" ,
        "amount" : "1000000000000000000"
      }

      ```




      3- When sent transaction is confirmed:

      ```javascript

      {
        "eventType" : "transferConfirmed",
        "fromWalletId" : "58f78b24-1de0-42b3-9a48-94f3e9c57752",
        "transactionId" : "f8ea1354-b3c9-470f-af09-c2ba96f2e391",
        "spendRequestId" : "c25bb620-ffdd-4b63-9ae6-dd8f2645c8f6",
        "txHash" : "0xdb247c2d1db3ee09658bced93761360e24d8fe555b79661f252470305babfd3d",
        "block" : "11286611"
      }

      ```

  - name: Webhooks API
    description: >+
      CoinPayments API offers webhook notifications, a powerful feature that
      allows merchants to seamlessly enable and manage notifications sent from
      CoinPayments API to their own merchant API when specific events occur.
      This provides merchants with real-time updates on important activities
      within their CoinPayments account.


      To set up webhook notifications, merchants can easily define a public
      endpoint URL on their server API and specify the events for which they
      want to receive notifications. Currently, CoinPayments supports webhook
      notifications for invoices, with plans to extend support to merchant
      wallets in the future.


      It's important to note that webhooks are tied to integration clients, and
      merchants can create multiple clients under their main account on the
      CoinPayments website, providing flexibility and customization options.


      Here is a list of invoice events for which merchants can choose to receive
      notifications:


      - invoiceCreated: triggered when a new invoice is created

      - invoicePending: triggered when an invoice is pending payment

      - invoicePaid: triggered when an invoice is successfully paid

      - invoiceCancelled: triggered when an invoice is cancelled


      Merchants have the flexibility to create webhooks either through the
      user-friendly UI or via API calls. To create a webhook through the UI,
      simply follow these steps:


      - Access the dashboard and click on "Integrations" in the left sidebar.

      - Choose "API integrations", click "Add New", and provide a name for your
      integration client, along wit- your server URL.

      - On the right side of the popup screen, open the dropdown menu to specify
      the events for which you wan- to receive notifications.

      - Click "OK" to confirm your selections.


      Once completed, your webhook notifications are all set, and your API will
      receive notifications based on the events you have chosen. This allows you
      to stay updated in real-time on the activities that matter most to your
      business.


      Notification Payload will include the event type, timestamp of the invoice
      status update, and the actual invoice object


servers:
  - url: https://api.coinpayments/api/v1
paths:
  /currencies:
    get:
      tags:
        - Currencies API
      summary: List currencies and their capabilities
      description: >-
        Returns a page of the supported currencies on the CoinPayments.net
        platform, by default ordered by their rank on CoinPayments.net.
      operationId: listPlatformSupportedCurrencies
      parameters:
        - name: q
          in: query
          schema:
            type: string
            example: BTC
          description: search query to find currencies by name or symbol
        - name: types
          in: query
          schema:
            type: string
            example: crypto,token,fiat
          description: >-
            comma separated list of the types of currencies to return (e.g.
            'coin', 'token', 'fiat', etc.). By default currencies of all types
            are returned
        - name: capabilities
          in: query
          schema:
            type: string
            example: multiSigAccounts,sharedAccounts,payments,singleSigAccounts
          description: search query to find currencies with names and/or codes
        - name: after
          in: query
          schema:
            type: string
            example: ''
          description: search query to find currencies with names and/or codes
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/arrayOfCurrencies'
        '400':
          description: Bad Request
  /currencies/{id}:
    get:
      tags:
        - Currencies API
      summary: Get currency by Id
      description: |
        Get Currency by Id
      operationId: getCurrencyById
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            example: '1'
      responses:
        '200':
          description: Success status code ( 200 )
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/currencySchema'
        '404':
          description: currency not found
  /currencies/blockchain-nodes/{id}/latest-block-number:
    get:
      tags:
        - Currencies API
      summary: Get latest block number by currency
      description: |
        Get the latest blockchain block number by currency Id
      operationId: getLatestBlockNumberByCurrencyId
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            example: '1'
      responses:
        '200':
          description: Success status code ( 200 )
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/latest-block-number'
        '404':
          description: Block number not found
  /currencies/conversions:
    get:
      tags:
        - Currencies API
      summary: Gets a list of all possible currency conversions
      description: |
        Get a list of all possible currency conversions
      operationId: getCurrencyConversions
      responses:
        '200':
          description: Success status code ( 200 )
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/currencyConversions'
        '400':
          description: Bad request
  /merchant/invoices:
    post:
      tags:
        - Invoices API
      summary: Create Invoice
      description: >+
        CoinPayments exposes invoices API endpoints allowing merchants to create
        and send invoices

        to their clients to pay for goods and services in cryptocurrencies
        supported by the merchant's platform.


        Here are the steps for creating and paying an invoice using our payment
        system:

        1. Input the product or service name, price, and any applicable
        discounts in the corresponding fields ( see request payload below ).

        2. Specify how you want to send the invoice to the payer:

        either via email or by providing a link for them to access in their
        browser.


        **Note**: To send the invoice via email, you must set the value of the
        `isEmailDelivery` field to "true" and populate the `emailAddress` field.
        If the payer prefer to create the invoice and send the link manually through
        your preferred method,

        set the value of `isEmailDelivery` to "false" and leave the
        `emailAddress` field blank.


        3. Upon accessing the invoice link, the payer can review the bill
        details and click on the payment button to proceed to the checkout page.

        4. On the checkout page, the payer can choose or specify the preferred
        payment coin from the list of available currencies.

        Please note that only coins supported by CoinPayments and enabled by the
        merchant are available for selection.

        5. Review the wallet address and QR code provided, then use them to
        complete the payment using your selected coin.

        6. Once the payment has been successfully processed, the invoice will be
        marked as paid.



        ![markdown file changed](./mermaid-invoice.png)

      operationId: createInvoice
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/invoice'
        description: Create Invoice
        required: true
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/invoiceRes'
        '404':
          description: Merchant Not Found!
    get:
      tags:
        - Invoices API
      summary: Get invoices
      description: |
        Get list of merchant invoices
      operationId: getListOfInvoices
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/invoices'
        '404':
          description: Merchant Not Found!
  /merchant/invoices/{id}:
    get:
      tags:
        - Invoices API
      summary: Get invoice by Id
      description: |
        Get Invoice by Id
      operationId: getInvoiceById
      parameters:
        - name: id
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/id'
      responses:
        '200':
          description: Success status code ( 200 )
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/invoice'
        '400':
          description: Bad request example!
  /merchant/invoices/{id}/payouts:
    get:
      tags:
        - Invoices API
      summary: Get invoices payouts
      description: >
        Get payout details for an invoice, including if invoice has been fully
        paid out,

        the exact amount they will receive and in what currency, which address
        payout will be deposited,

        and who (Buyer) performed the payment.
      operationId: getInvoicePayouts
      parameters:
        - name: id
          in: path
          required: true
          description: invoice Id
          schema:
            type: string
            example: 5xyKTbjTMcbXMUsaprSRaP
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/payouts'
        '404':
          description: Merchant Not Found!
  /merchant/invoices/{id}/hitory:
    get:
      tags:
        - Invoices API
      summary: Get invoice history
      description: |
        List history events of an invoice by the invoice Id
      operationId: getInvoiceHistory
      parameters:
        - name: id
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/id'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/invoiceHistory'
        '404':
          description: Merchant Not Found!
  /merchant/wallets:
    post:
      tags:
        - Wallets API
      summary: Create wallet
      description: |
        Creates new wallet by currency Id
      operationId: createMerchantWallet
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MerchantWallet'
        description: Create wallet payload
        required: true
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NewWallet'
        '404':
          description: Currency Not Found!
    get:
      tags:
        - Wallets API
      summary: Get Wallets
      description: Retrieves a list of wallets
      operationId: getMerchantWallets
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/arrayOfWallets'
        '404':
          description: Wallet not found
  /merchant/wallets/{walletIdStr}:
    get:
      tags:
        - Wallets API
      summary: Get Wallet by Id
      description: Retrieves wallet by its Id
      operationId: getMerchantWalletById
      parameters:
        - name: walletIdStr
          in: path
          required: true
          schema:
            type: string
            example: 0a54b29f-51cb-44a8-9bed-111c5cb1b335
          description: the wallet Id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MerchantWalletObj'
        '404':
          description: Wallet not found
  /merchant/wallets/{walletIdStr}/addresses:
    post:
      tags:
        - Wallets API
      summary: Create address for an existing wallet
      description: >
        This endpoint creates a new address under the wallet with the specified
        ID.

        The walletIdStr parameter is a required path parameter that identifies
        the target wallet.

        The request body is optional, but if included, it can contain an label
        field to provide a label for the new address. The response to a
        successful request returns a 201 Created status code and an object
        containing the ID of the new address, the ID of the wallet where it was
        created, and its label (if any).
      operationId: createWalletAddress
      parameters:
        - name: walletIdStr
          in: path
          required: true
          schema:
            type: string
            example: 0a54b29f-51cb-44a8-9bed-111c5cb1b335
          description: the wallet Id
        - name: label
          in: query
          schema:
            type: string
            example: shop tests address
            description: label for the address
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/addressRes'
        '404':
          description: Wallet Not Found!
    get:
      tags:
        - Wallets API
      summary: Get wallet addresses
      description: Retrieves a list of wallet addresses
      operationId: getWalletAddresss
      parameters:
        - name: walletIdStr
          in: path
          required: true
          schema:
            type: string
            example: 0a54b29f-51cb-44a8-9bed-111c5cb1b335
          description: the wallet Id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/list-of-addresses'
        '404':
          description: Wallet not found
  /merchant/wallets/{walletIdStr}/transactions:
    get:
      tags:
        - Wallets API
      summary: Get wallet transactions
      description: Retrieves a list of all wallet transactions
      operationId: getTransactionsByWalletId
      parameters:
        - name: walletIdStr
          in: path
          required: true
          schema:
            type: string
            example: 0a54b29f-51cb-44a8-9bed-111c5cb1b335
          description: the wallet Id
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/arrayOfWalletTransactions'
        '404':
          description: Wallet not found
  /merchant/wallets/{walletIdStr}/transaction:
    get:
      tags:
        - Wallets API
      summary: Get wallet transaction
      description: >-
        Get a specific transaction of the wallet, If trasncationId is specified
        then the specified then the spend request Id is ignored, otherwise, the
        first spending transaction with matching spendRequestId is returned
      operationId: getTransactionByWalletId
      parameters:
        - name: walletIdStr
          in: path
          required: true
          schema:
            type: string
            example: 0a54b29f-51cb-44a8-9bed-111c5cb1b335
          description: the wallet Id
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/arrayOfWalletTransactions'
        '404':
          description: Wallet not found
  /merchant/wallets/{walletIdStr}/spend/request:
    post:
      tags:
        - Wallets API
      summary: Create Withdrawal
      description: >-
        The Spend Request API allows users to initiate a withdrawal or a
        conversion transaction, both features follow a two-step process:


        1- **Send spend request**: This request will trigger a response
        containing a preview of the transaction,

        including any applicable fees. The purpose of this step is to allow
        users to review and verify the information provided,

        including the amount and any associated fees before proceeding.


        2- **Confirm spending funds**: the confirm spending funds endpoint is
        used to confirm spending funds from the merchant wallet, or to confirm
        converting funds, it is used to trigger publishing the transaction on
        the blockchain.

        Note: The "spendRequestId" included in the response from the first step.


        ![markdown file changed](./mermaid-withdrawal-svg.svg)
      operationId: sendSpendRequest
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SpendRequestPayload'
        description: Withdrawal Request payload
        required: true
      parameters:
        - name: walletIdStr
          in: path
          required: true
          schema:
            type: string
            example: 0a54b29f-51cb-44a8-9bed-111c5cb1b335
          description: the wallet Id from which you intend to withdraw funds
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SpendRequestConfirmationSuccess'
        '400':
          description: Not enough funds
        '404':
          description: Wallet not found
  /merchant/wallets/{walletIdStr}/spend/confirmation:
    post:
      tags:
        - Wallets API
      summary: Confirm wihtdrawal
      description: Send a request to confirm the withdrawal
      operationId: spendRequestConfirmation
      parameters:
        - name: walletIdStr
          in: path
          required: true
          schema:
            type: string
            example: 0a54b29f-51cb-44a8-9bed-111c5cb1b335
          description: the wallet Id from which you intend to withdraw funds
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SpendRequestConfirmationSuccess'
        '404':
          description: Spend confirmation not found
          $ref: '#/components/responses/Problem'
  /merchant/your-server-url:
    post:
      tags:
        - Webhooks API
      summary: Notification Payload
      description: |
        Below is the payload sent from CPs API to your server API
      operationId: notificationPayload
      responses:
        '200':
          description: Success status code ( 200 )
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/notification-payload'
        '400':
          description: CoinPayments API could not reach your server
  /merchant/clients/{clientId}/webhooks:
    post:
      tags:
        - Webhooks API
      summary: Create client webhook
      description: |
        Creates new client webhook
      operationId: createWebhook
      parameters:
        - name: clientId
          in: path
          required: true
          description: client Id
          schema:
            $ref: '#/components/schemas/id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/webhookSchema'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/createWebhook'
        '404':
          description: Merchant Not Found!
    get:
      tags:
        - Webhooks API
      summary: Get webhooks of merchant
      description: |
        Get list of merchant invoices
      operationId: getMerchantWebhooks
      parameters:
        - name: clientId
          in: path
          required: true
          description: client Id
          schema:
            $ref: '#/components/schemas/id'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/list-webhooks'
        '404':
          description: Merchant Not Found!
  /merchant/clients/{clientId}/webhooks/{webhookId}:
    put:
      tags:
        - Webhooks API
      summary: Update Webhook
      description: |
        Update Webhook by client Id and webhook Id
      operationId: updateWebhook
      parameters:
        - name: clientId
          in: path
          required: true
          description: client Id
          schema:
            $ref: '#/components/schemas/id'
        - name: webhookId
          in: path
          required: true
          description: webhook Id
          schema:
            $ref: '#/components/schemas/id'
      responses:
        '200':
          description: Success status code ( 200 )
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/webhookSchema'
        '404':
          description: Wallet not found
    delete:
      tags:
        - Webhooks API
      summary: Delete Webhook
      description: |
        delete a webhook by client Id and webhook Id
      operationId: deleteWebhook
      parameters:
        - name: clientId
          in: path
          required: true
          description: client Id
          schema:
            $ref: '#/components/schemas/id'
        - name: webhookId
          in: path
          required: true
          description: webhook Id
          schema:
            $ref: '#/components/schemas/id'
      responses:
        '204':
          description: Success status code - no content
        '404':
          description: Wallet not found
  /rates:
    get:
      tags:
        - Rates API
      summary: Conversion rates between currencies
      description: >
        Returns the currency conversion rates for the specified from currencies
        converted to the specified to currencies
      operationId: getConversionsBetweenTwoCurrencies
      parameters:
        - name: from
          schema:
            type: integer
          in: query
          description: >-
            comma separated list of currency ids to use as the source for rate
            calculations
          required: true
          example: 1
        - name: to
          schema:
            type: integer
          in: query
          description: >-
            comma separated list of currency ids for which to retrieve
            conversion rates for (from the from currencies)
        - name: fromToken
          in: query
          schema:
            type: integer
          description: optional, contract address of the token on the from currency
        - name: toToken
          in: query
          schema:
            type: integer
          description: optional, contract address of the token on the quote currency
      responses:
        '200':
          description: Success status code ( 200 )
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ratesRes'
        '400':
          description: Bad request
components:
  securitySchemes:
    main_auth:
      type: oauth2
      flows:
        implicit:
          authorizationUrl: http://example.com/api/oauth/dialog
          scopes:
            read:users: read users info
            write:users: modify or remove users
    api_key:
      type: apiKey
      in: header
      name: api_key
    basic_auth:
      type: http
      scheme: basic
  schemas:
    logo:
      type: object
      description: currency logo / icon
      properties:
        iamgeUrl:
          type: string
        vectorUrl:
          type: string
    urls:
      type: object
      properties:
        websites:
          type: array
          items:
            type: string
          example:
            - https://bitcoin.org
        explorers:
          type: array
          items:
            type: string
            example:
              - https://blockchain.info
    currencySchema:
      type: object
      properties:
        id:
          description: currency Id
          type: string
          example: '1'
        type:
          description: currency type
          type: string
          example: crypto
        symbol:
          description: currency symbol
          type: string
          example: BTC
        name:
          description: currency name
          type: string
          example: Bitcoin
        logo:
          $ref: '#/components/schemas/logo'
        decimalPlaces:
          type: integer
          example: 0
        rank:
          type: integer
          example: 0
        status:
          type: string
          example: active
        capabilities:
          $ref: '#/components/schemas/urls'
        requiredConfirmations:
          type: integer
          example: 0
    arrayOfCurrencies:
      type: array
      items:
        $ref: '#/components/schemas/currencySchema'
    latest-block-number:
      type: object
      properties:
        currencyId:
          description: currency Id
          type: string
          example: '1'
        latestBlockNumber:
          description: latest block number
          type: integer
          example: 773862
    currencyConversions:
      type: array
      items:
        type: object
        properties:
          from:
            type: string
            example: '4'
          to:
            type: string
            example: '6'
    globalAmount:
      type: object
      properties:
        currencyId:
          type: string
          description: the currency id of the wallet or address into which to payout to
        contractAddress:
          type: string
          description: >-
            the address of the contract if this money object represents an ERC20
            or similar token value
        displayValue:
          type: string
          description: The value formatted for display (e.g 0.1234 BTC)
        value:
          type: string
          description: >
            This parameter represents the monetary value as an integer in the
            base (smallest) unit of the currency. For instance, Bitcoin can be
            divided into 8 decimal places,

            with each division known as a Satoshi. Therefore, 1 BTC would have a
            value of 100,000,000 Satoshis, and 0.00031 BTC would have a value of
            31,000 Satoshis. Similarly,

            an amount of $9.99 USD would be represented as 999 cents. In the
            case of zero-decimal currencies like the Yen, a value of Â¥500 would
            be represented as 500.

            If no value is provided, the default is 0.
        valueAsDecimal:
          type: string
          description: >
            The decimal value represents the monetary value with decimal
            precision derived from the value field, which is the integer
            representation in the smallest unit of the currency or token.
    fullName:
      type: object
      properties:
        firstName:
          type: string
          description: first name of the buyer
        lastName:
          type: string
          description: last name of the buyer
    physicalAddress:
      type: object
      properties:
        address1:
          type: string
          description: main address
        address2:
          type: string
          description: second address
        address3:
          type: string
          description: third address
        city:
          type: string
          description: city of the buyer
        provinceOrState:
          type: string
          description: Province or state of the buyer
        suburbOrDistrict:
          type: string
          description: Suburb or district of the buyer
        countryCode:
          type: string
          format: US
        postalCode:
          type: string
          format: '10101'
    buyer:
      type: object
      properties:
        name:
          $ref: '#/components/schemas/fullName'
        companyName:
          type: string
          format: Rushing Turtles
        address:
          $ref: '#/components/schemas/physicalAddress'
        emailAddress:
          type: string
          description: email address of the buyer
          format: johndoe@gmail.com
        phoneNumber:
          type: string
          description: phone number of the buyer
          format: '01010101010'
    shipping:
      type: object
      properties:
        method:
          type: string
          description: Shipment method
        companyName:
          type: string
          description: Company name
        name:
          $ref: '#/components/schemas/fullName'
        emailAddress:
          type: string
          description: email address
        phoneNumber:
          type: string
          description: phone number
        address:
          $ref: '#/components/schemas/physicalAddress'
    items:
      type: object
      description: array of items that a buyer intends to purchase from the merchant
      properties:
        name:
          type: string
          description: name or title of the item
          example: Iphone 22
        quantity:
          type: object
          properties:
            value:
              type: number
              description: >-
                the quantity of the item. Must be greater than 0 and less than
                999,999,999â€¬. defaults to 1 if not provided.
            type:
              type: string
              example: 1
        originalAmount:
          $ref: '#/components/schemas/globalAmount'
        amount:
          $ref: '#/components/schemas/globalAmount'
    merchantOptions:
      type: object
      properties:
        showAddress:
          type: boolean
          default: false
        showPhone:
          type: boolean
          default: false
        showRegistrationNumber:
          type: boolean
          default: false
        showEmail:
          type: boolean
          default: false
        additionalInfo:
          type: string
          format: additional Info
    notificationUrl:
      type: string
      example: https://site.com/api/{YOUR_WEBHOOK_PATH}
    notifications:
      type: array
      description: >
        specify the event name you want your server to be notified of when it occurs,

        i.e. send notification when an invoice is created
      items:
        type: string
      example:
        - invoiceCreated
        - invoicePending
        - invoicePaid
        - invoiceCompleted
        - invoiceCancelled
    webhookSchema:
      type: object
      required:
        - notifications
        - notificationsUrl
      properties:
        notificationsUrl:
          $ref: '#/components/schemas/notificationUrl'
        notifications:
          $ref: '#/components/schemas/notifications'
    invoice:
      type: object
      description: >
        Request to create an invoice, which is a list of goods or services with
        a statement of the sum due provided

        by the merchant, that a buyer intends to purchase
      required:
        - amount
      properties:
        isEmailDelivery:
          type: boolean
          description: indicates if invoice will be sent via email, deaults to false
          default: false
        emailDelivery:
          type: object
          properties:
            to:
              type: string
              description: >-
                to recipient's email address. The value can take multiple addresses
                separated by semicolons
            cc:
              type: string
              description: field to add additional multiple recepients separated by semicolons
            bcc:
              type: string
              description: >-
                "bcc" field is similar to "cc" field except that other recipients
                won't be able to see that someone else has been sent a copy of
                the email.
        description:
          type: string
          description: the purchase description, can be provided instead of a list of items
        amount:
          type: object
          description: >
            represents the value of the item in the original currency, typically
            fiat currency such as USD or EUR.

            Values will be used to calculate the amount the buyer should

            pay in his or her selected currency of payment.
          properties:
            breakdown:
              type: object
              properties:
                subtotal:
                  $ref: '#/components/schemas/globalAmount'
                shipping:
                  $ref: '#/components/schemas/globalAmount'
                handling:
                  $ref: '#/components/schemas/globalAmount'
                taxTotal:
                  $ref: '#/components/schemas/globalAmount'
                discount:
                  $ref: '#/components/schemas/globalAmount'
            currencyId:
              type: string
              description: original currency Id of the item
            contractAddress:
              type: string
              description: >-
                the address of the contract if this money object represents an
                ERC20 or similar token value
            displayValue:
              type: string
              description: The value formatted for display (e.g 0.1234 BTC)
            value:
              type: string
              description: >
                This parameter represents the monetary value as an integer in
                the base (smallest) unit of the currency. For instance, Bitcoin
                can be divided into 8 decimal places,

                with each division known as a Satoshi. Therefore, 1 BTC would
                have a value of 100,000,000 Satoshis, and 0.00031 BTC would have
                a value of 31,000 Satoshis. Similarly,

                an amount of $9.99 USD would be represented as 999 cents. In the
                case of zero-decimal currencies like the Yen, a value of Â¥500
                would be represented as 500.

                If no value is provided, the default is 0.
            valueAsDecimal:
              type: string
              description: >
                The decimal value represents the monetary value with decimal
                precision derived from the value field,

                which is the integer representation in the smallest unit of the
                currency or token.
        clientId:
          type: string
          description: the id of the client creating this invoice
        invoiceDate:
          type: string
          description: >-
            allows for optional customization of the invoice date, which can
            differ from the automatically generated creation date of the invoice
          example: '2022-11-28T13:59:46+00:00'
        dueDate:
          type: string
          example: '2023-04-26T18:40:41.322Z'
          description: due date to be shown on the invoice
        invoiceId:
          type: string
          description: >-
            invoice number. Appears in screens shown to the Buyer and emails
            sent.
        buyer:
          $ref: '#/components/schemas/buyer'
        shipping:
          $ref: '#/components/schemas/shipping'
        items:
          type: array
          items:
            $ref: '#/components/schemas/items'
        requireBuyerNameAndEmail:
          type: boolean
          description: >-
            flag indicating whether a buyer's name and email are required, they
            will be requested at checkout if not provided by the caller.
        buyerDataCollectionMessage:
          type: string
          description: the message to display when collecting buyer user data
        notes:
          type: string
          description: notes for the merchant only, these are not visible to the buyers
        notesToRecipient:
          type: string
          description: >-
            any additional information to share with the buyer about the
            transaction
        termsAndConditions:
          type: string
          description: any terms and conditions, e.g. a cancellation policy
        merchantOptions:
          $ref: '#/components/schemas/merchantOptions'
        customOptions:
          type: object
          description: >-
            any custom data the caller wishes to attach to the invoice which
            will be sent back in notifications
          properties:
            additionalProp1:
              type: string
            additionalProp2:
              type: string
            additionalProp3:
              type: string
        metadata:
          type: object
          properties:
            integration:
              type: string
              description: integration name
              format: InvoiceBuilder
            hostname:
              type: string
              description: server name of the integration api
        poNumber:
          description: Optional purchase order number on the integration API.
          type: string
          format: InvoiceBuilder
        webhook:
          $ref: '#/components/schemas/webhookSchema'
        draft:
          type: boolean
          description: flag indicating whether this is a draft invoice
          default: false
        payoutConfig:
          type: object
          description: represents info specifying payout configuration for invoice
          properties:
            currencyId:
              type: string
              description: the currency id of the wallet or address into which to payout to
            contractAddress:
              type: string
              description: >-
                the address of the contract if this money object represents an
                ERC20 or similar token value
            address:
              type: string
              description: the external address into which to pay out
            frequency:
              type: array
              example:
                - normal
                - asSoonAsPossible
                - hourly
                - nightly
                - weekly
    invoices:
      type: array
      items:
        $ref: '#/components/schemas/invoice'
    invoiceRes:
      type: object
      properties:
        id:
          type: string
          description: the CoinPayments id of the invoice
          example: 0a54b29f-51cb-44a8-9bed-111c5cb1b335
    id:
      type: string
      example: nKCMuD6h3Vsgs4mGDqGeV
    txId-or-hash:
      type: string
      format: '0x2446f1fd773fbb9f080e674b60c6a033c7ed7427b8b9413cf28a2a4a6da9b56c'
    currencyId:
      type: string
      description: the currency id of the wallet or address into which to payout to
      example: '1'
    paidTransaction:
      type: object
      properties:
        hash:
          $ref: '#/components/schemas/txId-or-hash'
        amount:
          type: object
          properties:
            displayValue:
              type: string
              description: The value formatted for display (e.g 0.1234 BTC)
            value:
              type: string
              description: >
                This parameter represents the monetary value as an integer in
                the base (smallest) unit of the currency. For instance, Bitcoin
                can be divided into 8 decimal places,

                with each division known as a Satoshi. Therefore, 1 BTC would
                have a value of 100,000,000 Satoshis, and 0.00031 BTC would have
                a value of 31,000 Satoshis. Similarly,

                an amount of $9.99 USD would be represented as 999 cents. In the
                case of zero-decimal currencies like the Yen, a value of Â¥500
                would be represented as 500.

                If no value is provided, the default is 0.
            currencyId:
              $ref: '#/components/schemas/currencyId'
        conversionId:
          type: number
          example: 0
    amount:
      type: object
      properties:
        displayValue:
          type: string
          description: The value formatted for display (e.g 0.1234 BTC)
        value:
          type: string
          description: >
            This parameter represents the monetary value as an integer in the
            base (smallest) unit of the currency. For instance, Bitcoin can be
            divided into 8 decimal places,

            with each division known as a Satoshi. Therefore, 1 BTC would have a
            value of 100,000,000 Satoshis, and 0.00031 BTC would have a value of
            31,000 Satoshis. Similarly,

            an amount of $9.99 USD would be represented as 999 cents. In the
            case of zero-decimal currencies like the Yen, a value of Â¥500 would
            be represented as 500.

            If no value is provided, the default is 0.
        currencyId:
          $ref: '#/components/schemas/currencyId'
    destinationAmount:
      type: object
      properties:
        amount:
          $ref: '#/components/schemas/amount'
        nativeAmount:
          $ref: '#/components/schemas/amount'
    currency:
      type: object
      properties:
        id:
          description: the unique id of the currency on the CoinPayments platform
          $ref: '#/components/schemas/id'
        type:
          type: string
          description: the type of the currency (e.g crypto, token or fiat )
        symbol:
          type: string
          description: >
            ticker symbol for the currency.  For fiat currencies this is the
            three character (ISO-4217) currency code,

            and for crypto currencies their multi-character symbol.
          example: BTC
        name:
          type: string
          description: the name of the currency, e.g. 'United States Dollar' or 'Bitcoin'
        logo:
          type: object
          description: the logo urls for the currency
          properties:
            imageUrl:
              type: string
              description: >
                'Link to a CoinPayments hosted image for a currency, 64x64 is
                the default size returned.'
                 Replace "64x64" in the image url with these alternative sizes: 32, 64, 128, 200.
            vectorUrl:
              type: string
              description: >-
                If available then the link to a CoinPayments hosted vector image
                (SVG) for the currency.
        decimalPlaces:
          type: number
          description: >-
            the number of digits after the decimal separator, e.g. 2 for USD, 8
            for BTC, 0 for JPY
          example: 0
        rank:
          type: number
          description: >-
            the relative ordering/ranking of this currency to the other
            supported currencies on the CoinPayments platform
          example: 0
        capabilities:
          type: array
          description: >
            the capabilities of the currency on the CoinPayments platform:

            - multiSigAccounts: Multi signature 2-of-3 wallets where the user
            holds the private key

            - sharedAccounts: Shared accounts where the keys are held on the
            server only

            - payments: Can be accepted as payments

            - singleSigAccounts: Single signature account for personal use.
          items:
            type: string
            example: multiSigAccounts
        urls:
          type: object
          description: Contains various URLs for a currency
          properties:
            websites:
              type: array
              description: the official websites for the currency
              items:
                type: string
            explorers:
              type: array
              description: the explorers for the currency (if crypto or a token)
              items:
                type: string
    address:
      type: string
      example: mtxASJZHNmGeUPQ3DxLvJeKja6Lh7TcJM9
    fees:
      type: object
      properties:
        displayValue:
          type: string
          description: The value formatted for display (e.g 0.1234 BTC)
        contractAddress:
          description: >-
            the address of the contract if this money object represents an ERC20
            or similar token value
          $ref: '#/components/schemas/address'
        value:
          type: string
          description: >
            This parameter represents the monetary value as an integer in the
            base (smallest) unit of the currency. For instance, Bitcoin can be
            divided into 8 decimal places,

            with each division known as a Satoshi. Therefore, 1 BTC would have a
            value of 100,000,000 Satoshis, and 0.00031 BTC would have a value of
            31,000 Satoshis. Similarly,

            an amount of $9.99 USD would be represented as 999 cents. In the
            case of zero-decimal currencies like the Yen, a value of Â¥500 would
            be represented as 500.

            If no value is provided, the default is 0.
        currencyId:
          $ref: '#/components/schemas/currencyId'
    simulateFees:
      type: object
      properties:
        displayValue:
          type: string
        contractAddress:
          $ref: '#/components/schemas/address'
        value:
          type: string
        currencyId:
          $ref: '#/components/schemas/currencyId'
    merchantFees:
      type: object
      properties:
        transactionFees:
          $ref: '#/components/schemas/fees'
        networkFee:
          description: >-
            An object with the same fields as the fees object in the
            "transactionFee"
          $ref: '#/components/schemas/simulateFees'
        conversionFee:
          description: >-
            An object with the same fields as the fees object in the
            "transactionFee"
          $ref: '#/components/schemas/simulateFees'
    datetime:
      type: string
      example: '2022-11-29T19:10:04.228Z'
    item:
      type: object
      properties:
        currency:
          description: the currency (merchant's accepted currency) that will be received
          $ref: '#/components/schemas/currency'
        merchantFees:
          description: The amount for service fees in the merchant's accepted currency
          $ref: '#/components/schemas/merchantFees'
        payoutAmount:
          description: >
            This is the amount to be finally paid out to the merchant in the
            merchant's accepted currency.

            An object with the same fields and desription as the fees object in
            the "transactionFee" under merchantFees.
          $ref: '#/components/schemas/simulateFees'
        payoutAmountInInvoiceCurrency:
          description: >
            The Pay out amount in the invoice currency.

            An object with the same fields and desription as the fees object in
            the "transactionFee" under merchantFees.
          $ref: '#/components/schemas/simulateFees'
        merchantFeestInInvoiceCurrency:
          description: >
            The merchant fees in the invoice currency.

            An object with the same fields as the fees object in the
            "transactionFee" under merchantFees.
          $ref: '#/components/schemas/simulateFees'
        merchantPayoutAddress:
          type: string
          description: >-
            the merchants payment output address at the time the hot wallet was
            created
        sent:
          description: >-
            the timestamp of when this payout was sent (e.g. broadcast on the
            blockchain)
          $ref: '#/components/schemas/datetime'
        created:
          $ref: '#/components/schemas/datetime'
        expected:
          description: >-
            the approximate timestamp of when this payout is expected to be sent
            (e.g. broadcast on the blockchain)
          $ref: '#/components/schemas/datetime'
        confirmed:
          description: >-
            the timestamp of when this payout was confirmed (e.g. on the
            blockchain)
          $ref: '#/components/schemas/datetime'
        state:
          type: string
          description: the current state of the payout
    payouts:
      type: object
      properties:
        paidTransactions:
          type: array
          description: >-
            An array of paid transaction details, including transaction hash,
            amount, and conversion Id.
          items:
            $ref: '#/components/schemas/paidTransaction'
        paidDate:
          type: string
          description: The date and time when the payment was made.
          format: '2022-11-29T12:42:44.513Z'
        completedTxId:
          type: string
          description: The ID of the completed transaction.
          format: 0a54b29f-51cb-44a8-9bed-111c5cb1b335
        externalAddress:
          type: string
          description: The external address where the payout is deposited
          format: 378a37b57b6b4a4a93fd352b06ce1829
        destinationCurrencyId:
          type: string
          description: The currency ID of the destination for the payout
          format: '1'
        expectedDisplayValue:
          type: string
          description: The expected display value of the payout
          format: '0.01'
        sourceCurrencyId:
          type: string
          description: The currency ID of the source for the payout
          format: '101'
        destinationAccountId:
          type: string
          description: The ID of the destination account for the payout
          format: 378a37b57b6b4a4a93fd352b06ce1829
        isConversion:
          type: boolean
          description: Indicates whether a currency conversion is involved in the payout
          example: false
        conversionProgress:
          type: string
          description: The progress status of the currency conversion
          example: 0
        settlementModeErrorCode:
          type: number
          example: 0
        destinationAmount:
          description: >-
            The destination amount of the payout, including payout amount, state
            and merchant fees.
          $ref: '#/components/schemas/destinationAmount'
        items:
          type: array
          items:
            $ref: '#/components/schemas/item'
    invoiceHistoryItems:
      type: object
      properties:
        timestamp:
          type: string
          description: the timestamp of when the this event was observed
          example: '2023-05-29T19:58:50.043Z'
        eventType:
          type: string
          description: the type of event that was observed
    paging:
      type: object
      properties:
        cursor:
          type: object
          properties:
            before:
              type: string
            after:
              type: string
        limit:
          type: integer
          example: 0
        first:
          type: string
        next:
          type: string
        previous:
          type: string
        last:
          type: string
    invoiceHistory:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/invoiceHistoryItems'
        paging:
          $ref: '#/components/schemas/paging'
    MerchantWalletObj:
      type: object
      properties:
        walletId:
          description: Id of the wallet
          type: string
          example: 0a54b29f-51cb-44a8-9bed-111c5cb1b335
        currencyId:
          description: Id of the currency which this wallet was created for
          type: number
          example: 1
        label:
          description: abel of the wallet
          type: string
          example: John's wallet
        balance:
          description: Balance of the wallet in smallest units (e.g. Satoshis for Bitcoin)
          type: string
          example: '0.874833322'
        tokenBalances:
          description: >-
            Token (e.g. ERC20) balances for this wallet if available in smallest
            units (e.g. Weis for Ethereum)
          type: string
          example: '0xdac17f958d2ee523a2206206994597c13d831ec7'
        depositAddress:
          description: Blockchain address of this wallet allowing it to receive funds
          type: string
          example: '0x9939b7b208012cd0395d1411272be6e34c04af7b'
        walletStatus:
          description: >
            Status of the wallet, should be Active (2) for valid usable wallets.

            walletStatues can hold one of the following values [ Created,
            Active, Deactivated or Deleted ]
          type: string
          example: Active
        canCreateAddress:
          description: >-
            Specifies whether this wallet is allowed to create additional
            deposit addresses
          type: boolean
          example: true
        updatedAt:
          description: The date when the properties of the wallet were last updated
          type: string
          example: '2022-10-05T06:05:07.520Z'
        isVaultLocked:
          description: flag that determines if the wallet vault is locked or not
          type: boolean
          example: true
        vaultLockoutEndDateTime:
          description: DateTime that specifies the planned date the vault will be unlocked
          type: string
          example: '2023-07-04T22:21:41.535Z'
    arrayOfWallets:
      type: array
      items:
        $ref: '#/components/schemas/MerchantWalletObj'
    MerchantWallet:
      type: object
      required:
        - currencyId
        - label
      properties:
        currencyId:
          description: user supplied currencyId
          type: number
          example: 1
        label:
          description: label denoting the wallet
          type: string
          example: John's wallet
        webhookUrl:
          description: >-
            when provided, CoinPayments API will be sending appropriate requests
            to it
          type: string
          example: https://myapi.com
    NewWallet:
      type: object
      properties:
        walletId:
          description: Id of newely created wallet
          type: string
          example: 0a54b29f-51cb-44a8-9bed-111c5cb1b335
        address:
          description: deposit address
          type: string
          example: LaN1Vy2FugxWiAyMc8ipKe6Hcnh3mcKuym
    addressRes:
      type: object
      properties:
        addressId:
          description: Id of newely created address
          type: string
          example: 0a54b29f-51cb-44a8-9bed-111c5cb1b335
        networkAddress:
          description: the network address that was created.
          type: string
          example: LNUPQLeQFfF67RtH1dqFBiwJhYBNZCW7pm
    list-of-addresses:
      type: array
      items:
        $ref: '#/components/schemas/addressRes'
    WalletTransactionObj:
      type: object
      properties:
        id:
          description: Id of the transaction in the system
          type: string
          example: 3fa85f64-5717-4562-b3fc-2c963f66afa6
        dateCreated:
          description: Date when transaction was created
          type: string
          example: '2022-10-05T08:39:41.494Z'
        dateCompleted:
          description: Date when transaction was received or sent to the chain
          type: string
          example: '2022-10-05T08:40:41.494Z'
        fromOwnerId:
          description: Id of the owner of the wallet who sent the transaction
          type: string
          example: 3fa85f64-5717-4562-b3fc-2c963f66afa6
        fromWalletId:
          description: Id of the wallet which the transaction was sent from
          type: string
          example: 3fa85f64-5717-4562-b3fc-2c963f66afa6
        toWalletId:
          description: Id of the wallet which the transaction was sent to
          type: string
          example: 3fa85f64-5717-4562-b3fc-2c963f66afa6
        fromCurrencyId:
          description: Id of the currency that was used to send this transaction
          type: number
          example: 1
        toCurrencyId:
          description: Id of the currency which this transaction is sending funds to
          type: number
          example: 2
        fromAmount:
          description: >-
            Amount of funds that was sent in this transaction in smallest units
            (e.g. Satoshis for Bitcoin)
          type: string
          example: '0.22390234'
        toAmount:
          description: >-
            Amount of funds that was received in this transaction in smallest
            units (e.g. Satoshis for Bitcoin)
          type: string
          example: '0.13448434'
        fromAddress:
          description: >-
            Address of the wallet which was used when this transaction was
            created
          type: string
          example: 1AYASDI34W2W2SIFFRE32452S1Q
        toAddress:
          description: Address which this transaction is sending funds to
          type: string
          example: 1AYASDI34W2W2SIFFRE32452S1Q
        fromContractAddress:
          description: >-
            Address of the contract for tokens being sent if this transaction is
            an ERC20 or similar token transfer
          type: string
          example: 1AYASDI34W2W2SIFFRE32452S1Q
        toContractAddress:
          description: >-
            Address of the contract for tokens being received if this
            transaction is an ERC20 or similar token transfer
          type: string
          example: 1AYASDI34W2W2SIFFRE32452S1Q
        confirmations:
          description: Current number of confirmations that this transaction has
          type: number
          example: 2
        requiredConfirmations:
          description: >-
            Required number of confirmations to consider this transaction
            confirmed
          type: number
          example: 5
        spendRequestId:
          description: Id of the spend request which was used to create this transaction
          type: string
          example: 3fa85f64-5717-4562-b3fc-2c963f66afa6
        coinPaymentsFee:
          description: >-
            Amount of funds withheld as system fee for this transaction in
            smallest units (e.g. Satoshis for Bitcoin)
          type: string
          example: '0.000012'
        transactionStatus:
          description: Status of this transaction
          type: string
          example: unknown
        transactionType:
          description: Type of this transaction
          type: string
          example: unknown
        memo:
          description: User-defined custom note for this transaction
          type: string
          example: July rent
        txHash:
          description: Blockchain transaction hash (only for external transfers)
          type: string
          example: 1AYASDI34W2W2SIFFRE32452S1Q3289y7debugDSDSd38d3xSSA33ASDRxw98
        outputIndex:
          description: >-
            Index of the output in which this transaction received funds (only
            for UTXO receives)
          type: number
          example: 1
        blockchainFee:
          description: >-
            Amount of funds spent as a blockchain fee for this transaction in
            smallest units (e.g. Satoshis for Bitcoin)
          type: string
          example: '0.00000032'
        feeCurrency:
          description: >-
            Currency in which CoinPayments fees were deducted. The format is
            {CurrencyId}:{ContractAddress?} where ContractAddress is optional
            e.g.null "1", "4:0xdac17f958d2ee523a2206206994597c13d831ec7"
          type: string
          example: '0.00000032'
        blockNumberTxAppearedAt:
          description: date of appearing the transaction in the blockchain
          type: string
          example: '2022-10-05T08:40:41.494Z'
    arrayOfWalletTransactions:
      type: array
      items:
        $ref: '#/components/schemas/WalletTransactionObj'
    SpendRequestPayload:
      type: object
      required:
        - toCurrencyId
        - amountInSmallestUnits
      properties:
        fromContractAddress:
          description: >-
            Address of the contract e.g.
            "0xdac17f958d2ee523a2206206994597c13d831ec7" for ERC20 TetherUSD
          type: string
          example: '0xB8c77482e45F1F44dE1745F52C74426C631bDD52'
        toContractAddress:
          description: >-
            Address of the contract of the CurrencyId e.g.
            "0xdac17f958d2ee523a2206206994597c13d831ec7" for ERC20 TetherUSD
          type: string
          example: '0xB8c77482e45F1F44dE1745F52C74426C631bDD52'
        toAddress:
          description: Address which client wants to send funds to
          type: string
          example: mtxASJZHNmGeUPQ3DxLvJeKja6Lh7TcJM9
        toCurrencyId:
          description: currency Id of benificiary wallet
          type: number
          example: 6
        amountInSmallestUnits:
          description: >
            refers to the amount of a specific cryptocurrency, such as Bitcoin,
            measured in its smallest divisible unit, AKA atomic units

            (e.g., Satoshis for Bitcoin).

            It allows for precise and detailed transactions by specifying the
            amount in the smallest possible denomination.

            This approach enables you to send fractional amounts of the currency
            accurately.
          type: string
          example: '9900000'
        blockchainFeeOverrideInSmallestUnits:
          description: >-
            Used for overriding the system suggested blockchain fee (within 10%
            range) to manage the transaction processing speed
          type: number
          example: '0.0003234'
        memo:
          description: user-defined note for the spend
          type: string
        receiverPaysFee:
          description: >
            When set to true, the receiver of the conversion will pay the fees.
            In this case,

            the AmountInSmallestUnits will be deducted from the source balance,
            and the receiver will receive the remaining amount after deducting
            the fees.

            When set to false (or not provided), the fees will be added to the
            AmountInSmallestUnits,

            and the total sum (including fees) will be deducted from the source
            balance.

            The receiver will receive the AmountInSmallestUnits exactly as
            specified.
          type: boolean
          example: false
    SpendRequestConfirmationSuccess:
      type: object
      properties:
        spendRequestId:
          description: Id of newely created wallet
          type: string
          example: 0a54b29f-51cb-44a8-9bed-111c5cb1b335
    Problem:
      type: object
      additionalProperties: true
      minProperties: 1
      description: >-
        The Problem Details JSON Object
        [[RFC7807](https://tools.ietf.org/html/rfc7807)].
      properties:
        type:
          type: string
          description: >-
            A URI reference [[RFC3986](https://tools.ietf.org/html/rfc3986)]
            that identifies the problem type. It should provide human-readable
            documentation for the problem type. When this member is not present,
            its value is assumed to be "about:blank".
          format: uri
        title:
          type: string
          description: >-
            A short, human-readable summary of the problem type. It SHOULD NOT
            change from occurrence to occurrence of the problem, except for
            purposes of localization.
        status:
          type: integer
          description: The HTTP status code.
          minimum: 400
          maximum: 599
        detail:
          type: string
          description: >-
            A human-readable explanation specific to this occurrence of the
            problem.
        instance:
          type: string
          description: >-
            A URI reference that identifies the specific occurrence of the
            problem.  It may or may not yield further information if
            dereferenced.
    notification-payload:
      type: object
      properties:
        id:
          description: callback address id
          type: string
          example: 3fa85f64-5717-4562-b3fc-2c963f66afa6
        type:
          description: event type ( e.g "invoiceCreated", "invoiceComplete",.. )
          type: string
          example: invoiceCreated
        timestamp:
          description: date and time of creating the callback address
          type: string
          example: 2023-04-07T06:58:19.9798764+00:0
        invoice:
          $ref: '#/components/schemas/invoice'
    itemRes:
      type: object
      properties:
        id:
          $ref: '#/components/schemas/id'
        notificationUrl:
          $ref: '#/components/schemas/notificationUrl'
        notifications:
          $ref: '#/components/schemas/notifications'
        paging:
          $ref: '#/components/schemas/paging'
    list-webhooks:
      type: object
      properties:
        items:
          $ref: '#/components/schemas/itemRes'
    createWebhook:
      type: object
      properties:
        id:
          type: string
          description: webhook id
          example: 0a54b29f-51cb-44a8-9bed-111c5cb1b335
    rateItemRes:
      type: object
      properties:
        baseCurrencyId:
          type: number
          description: the currency code of the source/base currency
          example: 1
        quoteCurrencyId:
          type: number
          description: the currency code of the target/quoted currency
        rate:
          type: string
          description: >-
            the conversion rate to convert from BaseCurrencyId into
            QuoteCurrencyId
        baseToken:
          type: string
          description: >-
            the contract address of the source/base token on the base currency
            platform
        quoteToken:
          type: string
          description: >-
            the contract address of the target/quoted token on the quoted
            currency platform
    ratesRes:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/rateItemRes'
  responses:
    Problem:
      description: Problem
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/Problem'
